{"version":3,"sources":["component/dropDown.js","component/filter.js","component/tableList.js","component/pagination.js","index.js"],"names":["DropDown","_this","this","react_default","a","createElement","className","onChange","event","props","changeQuantityItems","target","value","Component","Filter","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getValue","text","filterItems","debounce","_this2","type","placeholder","TableList","undefined","items","name","selectAllItems","checked","generalStatusCheckBoxes","keys","config","map","key","title","onClick","isSortable","sortTable","item","index","concat","isChecked","age","selectItems","Pagination","paginationItems","pageId","selectPage","DataTable","checkAll","quantityCheckedCheckBoxes","state","dataItems","filter","length","allItemsCheckedStatus","setState","prevState","itemId","createPagination","quantityItems","pagination","toConsumableArray","forEach","push","splice","currentPage","arr","id","sort","b","query","columnConfig","isSearchable","snippet","getData","fetch","response","json","pattern","RegExp","filteredItems","test","_this3","dropDown_DropDown","filter_Filter","tableList_TableList","pagination_Pagination","ReactDOM","render","src_DataTable","document","getElementById"],"mappings":"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","file":"static/js/main.0fff847a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nexport default class DropDown extends Component {\n  render() {\n    return (\n      <div className=\"DataTable__DropDown\">\n        Show{\" \"}\n        <select\n          className=\"DataTable__select\"\n          onChange={event => {\n            this.props.changeQuantityItems(event.target.value)\n          }}\n        >\n          <option value=\"5\">5</option>\n          <option value=\"10\">10</option>\n          <option value=\"20\">20</option>\n        </select>{\" \"}\n        Phones\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { debounce } from 'lodash';\n\nexport default class Filter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getValue = debounce(this.getValue, 500);    \n }\n\n getValue = (text) => {\n  this.props.filterItems(text)\n }\n\n  render() {\n    return (\n      <div>\n        <label>\n          Search:{\" \"}\n          <input\n            type=\"text\"\n            className=\"DataTable__filter\"\n            placeholder=\"Motorola\"\n            onChange={(event) => {\n              this.getValue(event.target.value);              \n            }}\n          />\n        </label>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class TableList extends Component {\n  render() {\n    if(this.props.items === undefined) {\n      return (\n        <div>NO ITEMS =(</div>\n      )\n    }\n\n    return (\n      <div>\n        <table className=\"DataTable__table\">\n          <thead>\n            <tr>\n              <th className=\"DataTable__type-of-sort\">\n                <input \n                name=\"checkAll\" \n                type=\"checkbox\" \n                onChange={this.props.selectAllItems} \n                checked={this.props.generalStatusCheckBoxes}               \n                />\n              </th>\n\n              {Object.keys(this.props.config).map(key => {\n                return (\n                  <th\n                    className=\"DataTable__type-of-sort\"\n                    key={this.props.config[key].title}\n                    onClick={() => {\n                      if(this.props.config[key].isSortable) {\n                        this.props.sortTable(key);\n                      }\n                    }}\n                  >\n                    {this.props.config[key].title}\n                  </th>\n                );\n              })}\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.items.map((item, index) => {\n              return (\n                <tr className={`DataTable__item${item.isChecked ? '--active' : ''}`}  key={item.age}>\n                  <td className=\"DataTable__item-content\">\n                    <input\n                      name=\"isChecked\"\n                      type=\"checkbox\"\n                      onChange={() => {                        \n                        this.props.selectItems(index);\n                      }}\n                      checked={item.isChecked}\n                    />\n                  </td>\n                  {Object.keys(this.props.config).map(key => {\n                    return <td\n                     className=\"DataTable__item-content\"\n                     key={key}\n                     >\n                      {item[key]}\n                     </td>;\n                  })}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\n\nexport default class Pagination extends Component {\n  render() {\n    return (\n      <div className=\"DataTable__pagination-navigation\">\n            {this.props.paginationItems.map((item, index) => {              \n              return (\n                <div key={index} \n                className={`DataTable__pagination-item${index === this.props.pageId ? '--active' : ''}`}\n                onClick={() => {\n                  this.props.selectPage(index);\n                }}\n                >\n                {index + 1}\n                </div>\n              )\n            })}\n      </div>\n    )\n  }\n}","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport DropDown from \"./component/dropDown\";\nimport Filter from \"./component/filter\";\nimport TableList from \"./component/tableList\";\nimport Pagination from \"./component/pagination\";\nimport \"./style/style.scss\";\n\nclass DataTable extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.allItemsCheckedStatus = false;\n\n    this.state = {\n      query: '',\n      pagination: [],\n      dataItems: [],\n      currentPage: [],\n      pageId: 0,\n      quantityItems: 5,\n\n      columnConfig: {\n        name: {\n          title: \"Название\",\n          isSortable: true,\n          isSearchable: true\n        },\n        age: {\n          title: \"Возраст\",\n          isSortable: true\n        },\n        snippet: {\n          title: \"Описание\",\n          isSearchable: true\n        }\n      }\n    };\n  }\n  componentDidMount() {\n    this.getData();\n  }\n\n  checkAll = () => {\n    let quantityCheckedCheckBoxes = 0;\n\n    this.state.dataItems.filter(item => {\n      if(quantityCheckedCheckBoxes === this.state.dataItems.length - 1) {\n        this.allItemsCheckedStatus = true;\n      } else {\n        this.allItemsCheckedStatus = false;\n      }\n\n      if(item.isChecked) {\n        quantityCheckedCheckBoxes++;\n      }      \n    })    \n  }\n\n  selectAllItems = () => {  \n    this.setState((prevState) => {\n      prevState.dataItems.map(item => {\n        item.isChecked = !this.allItemsCheckedStatus;\n        \n      })\n      return {\n        prevState\n      }\n    })\n  }\n\n  selectItems = (itemId) => {\n    this.setState(prevState => {\n      prevState.dataItems[itemId].isChecked = !prevState.dataItems[itemId].isChecked;\n      \n      return {\n        prevState\n      }\n    })\n  };\n\n  createPagination = (quantityItems) => {\n    this.setState(prevState => {\n      let pagination = [];      \n\n      let items = [...prevState.dataItems];\n\n      items.forEach(() => {\n        pagination.push(items.splice(0, quantityItems));\n      });\n      pagination.push(items);\n      pagination = pagination.filter(arr => arr.length !== 0);\n\n      return {        \n        pageId: 0,\n        currentPage: pagination[0],\n        quantityItems,     \n        pagination, \n      }\n    });\n  };\n\n  selectPage = (id) => {\n    this.setState({\n      currentPage: this.state.pagination[id],\n      pageId : id,\n    })\n  }\n\n  async getData() {\n    const response = await fetch(\n      \"https://mate-academy.github.io/phone-catalogue-static/phones/phones.json\"\n    );\n    const items = await response.json();\n     \n    items.map(item => {\n      item.isChecked = false;\n    })\n\n    const pattern = new RegExp(this.state.query, 'i');\n    let filteredItems;\n    Object.keys(this.state.columnConfig).filter(key => {\n      filteredItems = items.filter((item) => pattern.test(item[key])) \n    })     \n    this.setState({\n      dataItems: filteredItems\n    }, () => {\n      this.createPagination(this.state.quantityItems);\n    });\n  }\n\n  sortTable = (key) => {\n    this.setState(prevState => {\n      prevState.dataItems.sort((a,b) => a[key] < b[key] ? -1 : 1);\n      \n      return {\n        prevState\n      }\n    }, () => {\n      this.createPagination(this.state.quantityItems);\n    })\n  }\n\n  render() {\n    this.checkAll();\n    return (\n      <div className=\"DataTable\">\n        <div className=\"DataTable__header\">\n          <DropDown changeQuantityItems={quantityItems => {\n            this.createPagination(quantityItems);            \n          }} />\n          <Filter filterItems={(query) => {\n            this.setState({\n              query,\n            }, () => this.getData())\n          }}/>\n        </div>\n        <div className=\"DataTable__content\">\n          <TableList\n            currentPage={1}\n            config={this.state.columnConfig}\n            items={this.state.currentPage}\n            selectItems={this.selectItems}\n            selectAllItems={this.selectAllItems}\n            generalStatusCheckBoxes={this.allItemsCheckedStatus}\n            sortTable={this.sortTable}\n          />\n        </div>\n        <div className=\"DataTable__footer\">         \n          <Pagination \n            paginationItems={this.state.pagination ? this.state.pagination : []}\n            pageId={this.state.pageId}\n            selectPage={this.selectPage}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<DataTable />, document.getElementById(\"data-table\"));\n"],"sourceRoot":""}